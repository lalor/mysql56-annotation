<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: Gtid_set Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">Gtid_set Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Gtid_set" -->
<p><code>#include &lt;<a class="el" href="rpl__gtid_8h_source.html">rpl_gtid.h</a>&gt;</code></p>

<p><a href="classGtid__set-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set_1_1Const__interval__iterator.html">Const_interval_iterator</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>Free_intervals_lock</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set_1_1Gtid__iterator.html">Gtid_iterator</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGtid__set_1_1Interval.html">Interval</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>Interval_chunk</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set_1_1Interval__iterator.html">Interval_iterator</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set_1_1Interval__iterator__base.html">Interval_iterator_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGtid__set_1_1String__format.html">String_format</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a048d3934c095e4afed99055334367047">Gtid_set</a> (<a class="el" href="classSid__map.html">Sid_map</a> *sid_map, <a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *sid_lock=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a3f441c71a9465b3e03fc2d8a68a04315">Gtid_set</a> (<a class="el" href="classSid__map.html">Sid_map</a> *sid_map, const char *text, enum_return_status *status, <a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *sid_lock=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad214bab2852c98a3b0ce39bb305f720f"></a><!-- doxytag: member="Gtid_set::~Gtid_set" ref="ad214bab2852c98a3b0ce39bb305f720f" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#ad214bab2852c98a3b0ce39bb305f720f">~Gtid_set</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this <a class="el" href="classGtid__set.html">Gtid_set</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a8d8130a7559cfd7b940f42e66c9b171a">clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#ac457d510c14ce9d834ce85268f62f6fe">_add_gtid</a> (rpl_sidno sidno, rpl_gno gno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#ae6298a4686b2856153efb1678ef326ce">_remove_gtid</a> (rpl_sidno sidno, rpl_gno gno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a0378bb6823f52a48455328515b62c684">_add_gtid</a> (const <a class="el" href="structGtid.html">Gtid</a> &amp;gtid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a020ff727cab9d32ce695233376a5383e">_remove_gtid</a> (const <a class="el" href="structGtid.html">Gtid</a> &amp;gtid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a5a76ae688b1286b8bc51b02619174892">add_gtid_set</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#afc0a5e109f9b6f5d1fdec79462468340">remove_gtid_set</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#ae854e77cbadfd86cf28b61d5a8e228b9">add_gtid_text</a> (const char *text, bool *anonymous=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#ae5f1bc4e5fa45a2902ff562df316cf1b">add_gtid_encoding</a> (const uchar *encoded, size_t length, size_t *actual_length=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0764f95ab9fc368a2af4e5f15faab2a7"></a><!-- doxytag: member="Gtid_set::contains_gtid" ref="a0764f95ab9fc368a2af4e5f15faab2a7" args="(rpl_sidno sidno, rpl_gno gno) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a0764f95ab9fc368a2af4e5f15faab2a7">contains_gtid</a> (rpl_sidno sidno, rpl_gno gno) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true iff the given GTID exists in this set. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a03ac8bd673ced1c4278d49edc722e2"></a><!-- doxytag: member="Gtid_set::contains_gtid" ref="a6a03ac8bd673ced1c4278d49edc722e2" args="(const Gtid &amp;gtid) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a6a03ac8bd673ced1c4278d49edc722e2">contains_gtid</a> (const <a class="el" href="structGtid.html">Gtid</a> &amp;gtid) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true iff the given GTID exists in this set. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b2ed87e39d385d4beeeaec3e4c88db8"></a><!-- doxytag: member="Gtid_set::get_max_sidno" ref="a2b2ed87e39d385d4beeeaec3e4c88db8" args="() const " -->
rpl_sidno&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a2b2ed87e39d385d4beeeaec3e4c88db8">get_max_sidno</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximal sidno that this <a class="el" href="classGtid__set.html">Gtid_set</a> currently has space for. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a4f026631d33627a5c273bdc35dcc03ef">ensure_sidno</a> (rpl_sidno sidno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa52ca318b535ae2dbd8b40ec49f79b69"></a><!-- doxytag: member="Gtid_set::is_subset" ref="aa52ca318b535ae2dbd8b40ec49f79b69" args="(const Gtid_set *super) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#aa52ca318b535ae2dbd8b40ec49f79b69">is_subset</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *super) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this <a class="el" href="classGtid__set.html">Gtid_set</a> is a subset of the other <a class="el" href="classGtid__set.html">Gtid_set</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a9b0c6d8267d511e65243f4275406653a">is_subset_for_sid</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *super, rpl_sidno superset_sidno, rpl_sidno subset_sidno) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a5308098c872810aee29cdd332266f882">is_intersection_nonempty</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *other) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum_return_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a9a384be7c735d018d5fc0c8c0c64344e">intersection</a> (const <a class="el" href="classGtid__set.html">Gtid_set</a> *other, <a class="el" href="classGtid__set.html">Gtid_set</a> *result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1bc45611a7f7852f42958103defec65"></a><!-- doxytag: member="Gtid_set::is_empty" ref="af1bc45611a7f7852f42958103defec65" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#af1bc45611a7f7852f42958103defec65">is_empty</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this <a class="el" href="classGtid__set.html">Gtid_set</a> is empty. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a61bf4a182e8110a8fd74eb374e45bbd4">contains_sidno</a> (rpl_sidno sidno) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a7f93abbbf6942fc5f854a1b1504d94e0">to_string</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9849a55e56aad6fc74bcfce5e54f31bb"></a><!-- doxytag: member="Gtid_set::print" ref="a9849a55e56aad6fc74bcfce5e54f31bb" args="() const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a9849a55e56aad6fc74bcfce5e54f31bb">print</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug only: Print this <a class="el" href="classGtid__set.html">Gtid_set</a> to stdout. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a743cf994d4d86067ead478a07abecd82">dbug_print</a> (const char *text=&quot;&quot;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#aaf41f6a15633a2076cc90b96dfbe7bb2">get_string_length</a> (const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *string_format=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a980203ba6852ece042609a157088d251">to_string</a> (char *buf, const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *string_format=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a5865b6cee0a477035e8729eae9ab9f63">to_string</a> (char **buf, const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *string_format=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9914637aee651504cce32611761cba05"></a><!-- doxytag: member="Gtid_set::get_sid_map" ref="a9914637aee651504cce32611761cba05" args="() const " -->
<a class="el" href="classSid__map.html">Sid_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a9914637aee651504cce32611761cba05">get_sid_map</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <a class="el" href="classSid__map.html">Sid_map</a> associated with this <a class="el" href="classGtid__set.html">Gtid_set</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a11541c02363dc7a2877a5a0282d679ab">add_interval_memory</a> (int n_intervals, <a class="el" href="structGtid__set_1_1Interval.html">Interval</a> *intervals_param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a7195a4f524b6d0bf7f3bf9df7b6c8694">encode</a> (uchar *buf) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#acff96594881942b6bd91cfef6bcb58ee">get_encoded_length</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a8a10c1dfb57ac995cbf14b51f83f8e68">is_valid</a> (const char *text)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a65b9f6c31cfc7d5ca7b1564411c2a416">default_string_format</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#abefb12fa60900cd38a8abe959b774f54">sql_string_format</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a4ba668b76ba3d4a4d96a91389dc31817">commented_string_format</a></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGtid__set.html#a59860055a243825524c47d9adc494250">Gtid_set::Free_intervals_lock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by unit tests that need to access private members.  <a href="#a59860055a243825524c47d9adc494250"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents a set of GTIDs.</p>
<p>This is structured as an array, indexed by SIDNO, where each element contains a linked list of intervals.</p>
<p>This data structure OPTIONALLY knows of a <a class="el" href="classSid__map.html">Sid_map</a> that gives a correspondence between SIDNO and SID. If the <a class="el" href="classSid__map.html">Sid_map</a> is NULL, then operations that require a <a class="el" href="classSid__map.html">Sid_map</a> - printing and parsing - raise an assertion.</p>
<p>This data structure OPTIONALLY knows of a read-write lock that protects the number of SIDNOs. The lock is provided by the invoker of the constructor and it is generally the caller's responsibility to acquire the read lock. If the lock is not NULL, access methods assert that the caller already holds the read (or write) lock. If the lock is not NULL and a method of this class grows the number of SIDNOs, then the method temporarily upgrades this lock to a write lock and then degrades it to a read lock again; there will be a short period when the lock is not held at all. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a048d3934c095e4afed99055334367047"></a><!-- doxytag: member="Gtid_set::Gtid_set" ref="a048d3934c095e4afed99055334367047" args="(Sid_map *sid_map, Checkable_rwlock *sid_lock=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGtid__set.html#a048d3934c095e4afed99055334367047">Gtid_set::Gtid_set</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSid__map.html">Sid_map</a> *&#160;</td>
          <td class="paramname"><em>sid_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *&#160;</td>
          <td class="paramname"><em>sid_lock</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new, empty <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sid_map</td><td>The <a class="el" href="classSid__map.html">Sid_map</a> to use, or NULL if this <a class="el" href="classGtid__set.html">Gtid_set</a> should not have a <a class="el" href="classSid__map.html">Sid_map</a>. </td></tr>
    <tr><td class="paramname">sid_lock</td><td>Read-write lock that protects updates to the number of SIDs. This may be NULL if such changes do not need to be protected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3f441c71a9465b3e03fc2d8a68a04315"></a><!-- doxytag: member="Gtid_set::Gtid_set" ref="a3f441c71a9465b3e03fc2d8a68a04315" args="(Sid_map *sid_map, const char *text, enum_return_status *status, Checkable_rwlock *sid_lock=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGtid__set.html#a048d3934c095e4afed99055334367047">Gtid_set::Gtid_set</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSid__map.html">Sid_map</a> *&#160;</td>
          <td class="paramname"><em>sid_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_return_status *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *&#160;</td>
          <td class="paramname"><em>sid_lock</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new <a class="el" href="classGtid__set.html">Gtid_set</a> that contains the groups in the given string, in the same format as add_gtid_text(char *).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sid_map</td><td>The <a class="el" href="classSid__map.html">Sid_map</a> to use for SIDs. </td></tr>
    <tr><td class="paramname">text</td><td>The text to parse. </td></tr>
    <tr><td class="paramname">status</td><td>Will be set GS_SUCCESS or GS_ERROR_PARSE or GS_ERROR_OUT_OF_MEMORY. </td></tr>
    <tr><td class="paramname">sid_lock</td><td>Read/write lock to protect changes in the number of SIDs with. This may be NULL if such changes do not need to be protected.</td></tr>
  </table>
  </dd>
</dl>
<p>If sid_lock != NULL, then the read lock on sid_lock must be held before calling this function. If the array is grown, sid_lock is temporarily upgraded to a write lock and then degraded again; there will be a short period when the lock is not held at all. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac457d510c14ce9d834ce85268f62f6fe"></a><!-- doxytag: member="Gtid_set::_add_gtid" ref="ac457d510c14ce9d834ce85268f62f6fe" args="(rpl_sidno sidno, rpl_gno gno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ac457d510c14ce9d834ce85268f62f6fe">Gtid_set::_add_gtid</a> </td>
          <td>(</td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>sidno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rpl_gno&#160;</td>
          <td class="paramname"><em>gno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds the given GTID to this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>The SIDNO must exist in the <a class="el" href="classGtid__set.html">Gtid_set</a> before this function is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sidno</td><td>SIDNO of the group to add. </td></tr>
    <tr><td class="paramname">gno</td><td>GNO of the group to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a0378bb6823f52a48455328515b62c684"></a><!-- doxytag: member="Gtid_set::_add_gtid" ref="a0378bb6823f52a48455328515b62c684" args="(const Gtid &amp;gtid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ac457d510c14ce9d834ce85268f62f6fe">Gtid_set::_add_gtid</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGtid.html">Gtid</a> &amp;&#160;</td>
          <td class="paramname"><em>gtid</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds the given GTID to this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>The SIDNO must exist in the <a class="el" href="classGtid__set.html">Gtid_set</a> before this function is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gtid</td><td><a class="el" href="structGtid.html">Gtid</a> to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ae6298a4686b2856153efb1678ef326ce"></a><!-- doxytag: member="Gtid_set::_remove_gtid" ref="ae6298a4686b2856153efb1678ef326ce" args="(rpl_sidno sidno, rpl_gno gno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ae6298a4686b2856153efb1678ef326ce">Gtid_set::_remove_gtid</a> </td>
          <td>(</td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>sidno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rpl_gno&#160;</td>
          <td class="paramname"><em>gno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the given GTID from this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sidno</td><td>SIDNO of the group to remove. </td></tr>
    <tr><td class="paramname">gno</td><td>GNO of the group to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a020ff727cab9d32ce695233376a5383e"></a><!-- doxytag: member="Gtid_set::_remove_gtid" ref="a020ff727cab9d32ce695233376a5383e" args="(const Gtid &amp;gtid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ae6298a4686b2856153efb1678ef326ce">Gtid_set::_remove_gtid</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGtid.html">Gtid</a> &amp;&#160;</td>
          <td class="paramname"><em>gtid</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the given GTID from this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gtid</td><td><a class="el" href="structGtid.html">Gtid</a> to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ae5f1bc4e5fa45a2902ff562df316cf1b"></a><!-- doxytag: member="Gtid_set::add_gtid_encoding" ref="ae5f1bc4e5fa45a2902ff562df316cf1b" args="(const uchar *encoded, size_t length, size_t *actual_length=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ae5f1bc4e5fa45a2902ff562df316cf1b">Gtid_set::add_gtid_encoding</a> </td>
          <td>(</td>
          <td class="paramtype">const uchar *&#160;</td>
          <td class="paramname"><em>encoded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>actual_length</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decodes a <a class="el" href="classGtid__set.html">Gtid_set</a> from the given string.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>The string to parse. </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes. </td></tr>
    <tr><td class="paramname">actual_length</td><td>If this is not NULL, it is set to the number of bytes used by the encoding (which may be less than 'length'). If this is NULL, an error is generated if the encoding is shorter than the given 'length'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>GS_SUCCESS or GS_ERROR_PARSE or GS_ERROR_OUT_OF_MEMORY </dd></dl>

</div>
</div>
<a class="anchor" id="a5a76ae688b1286b8bc51b02619174892"></a><!-- doxytag: member="Gtid_set::add_gtid_set" ref="a5a76ae688b1286b8bc51b02619174892" args="(const Gtid_set *other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#a5a76ae688b1286b8bc51b02619174892">Gtid_set::add_gtid_set</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds all groups from the given <a class="el" href="classGtid__set.html">Gtid_set</a> to this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>If sid_lock != NULL, then the read lock must be held before calling this function. If a new sidno is added so that the array of lists of intervals is grown, sid_lock is temporarily upgraded to a write lock and then degraded again; there will be a short period when the lock is not held at all.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The <a class="el" href="classGtid__set.html">Gtid_set</a> to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ae854e77cbadfd86cf28b61d5a8e228b9"></a><!-- doxytag: member="Gtid_set::add_gtid_text" ref="ae854e77cbadfd86cf28b61d5a8e228b9" args="(const char *text, bool *anonymous=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#ae854e77cbadfd86cf28b61d5a8e228b9">Gtid_set::add_gtid_text</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>anonymous</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds the set of GTIDs represented by the given string to this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>The string must have the format of a comma-separated list of zero or more of the following:</p>
<p>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX(:NUMBER+(-NUMBER)?)* | ANONYMOUS</p>
<p>Each X is a hexadecimal digit (upper- or lowercase). NUMBER is a decimal, 0xhex, or 0oct number.</p>
<p>The start of an interval must be greater than 0. The end of an interval may be 0, but any interval that has an endpoint that is smaller than the start is discarded.</p>
<p>If sid_lock != NULL, then the read lock on sid_lock must be held before calling this function. If a new sidno is added so that the array of lists of intervals is grown, sid_lock is temporarily upgraded to a write lock and then degraded again; there will be a short period when the lock is not held at all.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The string to parse. </td></tr>
    <tr><td class="paramname">anonymous[in,out]</td><td>If this is NULL, ANONYMOUS is not allowed. If this is not NULL, it will be set to true if the anonymous group was found; false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a11541c02363dc7a2877a5a0282d679ab"></a><!-- doxytag: member="Gtid_set::add_interval_memory" ref="a11541c02363dc7a2877a5a0282d679ab" args="(int n_intervals, Interval *intervals_param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classGtid__set.html#a11541c02363dc7a2877a5a0282d679ab">Gtid_set::add_interval_memory</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_intervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGtid__set_1_1Interval.html">Interval</a> *&#160;</td>
          <td class="paramname"><em>intervals_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Provides an array of Intervals that this <a class="el" href="classGtid__set.html">Gtid_set</a> can use when groups are subsequently added. This can be used as an optimization, to reduce allocation for sets that have a known number of intervals.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">n_intervals</td><td>The number of intervals to add. </td></tr>
    <tr><td class="paramname">intervals</td><td>Array of n_intervals intervals. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d8130a7559cfd7b940f42e66c9b171a"></a><!-- doxytag: member="Gtid_set::clear" ref="a8d8130a7559cfd7b940f42e66c9b171a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classGtid__set.html#a8d8130a7559cfd7b940f42e66c9b171a">Gtid_set::clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes all groups from this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>This does not deallocate anything: if groups are added later, existing allocated memory will be re-used. </p>

</div>
</div>
<a class="anchor" id="a61bf4a182e8110a8fd74eb374e45bbd4"></a><!-- doxytag: member="Gtid_set::contains_sidno" ref="a61bf4a182e8110a8fd74eb374e45bbd4" args="(rpl_sidno sidno) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGtid__set.html#a61bf4a182e8110a8fd74eb374e45bbd4">Gtid_set::contains_sidno</a> </td>
          <td>(</td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>sidno</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if this <a class="el" href="classGtid__set.html">Gtid_set</a> contains at least one GTID with the given SIDNO.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sidno</td><td>The SIDNO to test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The SIDNO is less than or equal to the max SIDNO, and there is at least one group with this SIDNO. </td></tr>
    <tr><td class="paramname">false</td><td>The SIDNO is greater than the max SIDNO, or there is no group with this SIDNO. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a743cf994d4d86067ead478a07abecd82"></a><!-- doxytag: member="Gtid_set::dbug_print" ref="a743cf994d4d86067ead478a07abecd82" args="(const char *text=&quot;&quot;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classGtid__set.html#a743cf994d4d86067ead478a07abecd82">Gtid_set::dbug_print</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print this <a class="el" href="classGtid__set.html">Gtid_set</a> to the trace file if debug is enabled; no-op otherwise. </p>

</div>
</div>
<a class="anchor" id="a7195a4f524b6d0bf7f3bf9df7b6c8694"></a><!-- doxytag: member="Gtid_set::encode" ref="a7195a4f524b6d0bf7f3bf9df7b6c8694" args="(uchar *buf) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classGtid__set.html#a7195a4f524b6d0bf7f3bf9df7b6c8694">Gtid_set::encode</a> </td>
          <td>(</td>
          <td class="paramtype">uchar *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encodes this <a class="el" href="classGtid__set.html">Gtid_set</a> as a binary string. </p>

</div>
</div>
<a class="anchor" id="a4f026631d33627a5c273bdc35dcc03ef"></a><!-- doxytag: member="Gtid_set::ensure_sidno" ref="a4f026631d33627a5c273bdc35dcc03ef" args="(rpl_sidno sidno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#a4f026631d33627a5c273bdc35dcc03ef">Gtid_set::ensure_sidno</a> </td>
          <td>(</td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>sidno</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates space for all sidnos up to the given sidno in the array of intervals. The sidno must exist in the <a class="el" href="classSid__map.html">Sid_map</a> associated with this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<p>If sid_lock != NULL, then the read lock on sid_lock must be held before calling this function. If the array is grown, sid_lock is temporarily upgraded to a write lock and then degraded again; there will be a short period when the lock is not held at all.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sidno</td><td>The SIDNO. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="acff96594881942b6bd91cfef6bcb58ee"></a><!-- doxytag: member="Gtid_set::get_encoded_length" ref="acff96594881942b6bd91cfef6bcb58ee" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classGtid__set.html#acff96594881942b6bd91cfef6bcb58ee">Gtid_set::get_encoded_length</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the length of this <a class="el" href="classGtid__set.html">Gtid_set</a> when encoded using the <a class="el" href="classGtid__set.html#a7195a4f524b6d0bf7f3bf9df7b6c8694">encode()</a> function. </p>

</div>
</div>
<a class="anchor" id="aaf41f6a15633a2076cc90b96dfbe7bb2"></a><!-- doxytag: member="Gtid_set::get_string_length" ref="aaf41f6a15633a2076cc90b96dfbe7bb2" args="(const String_format *string_format=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGtid__set.html#aaf41f6a15633a2076cc90b96dfbe7bb2">Gtid_set::get_string_length</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *&#160;</td>
          <td class="paramname"><em>string_format</em> = <code>NULL</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the length of the output from to_string.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This does not include the trailing '\0', so your buffer needs space for <a class="el" href="classGtid__set.html#aaf41f6a15633a2076cc90b96dfbe7bb2">get_string_length()</a> + 1 characters.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">string_format</td><td><a class="el" href="structGtid__set_1_1String__format.html">String_format</a> object that specifies separators in the resulting text. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The length. </dd></dl>

</div>
</div>
<a class="anchor" id="a9a384be7c735d018d5fc0c8c0c64344e"></a><!-- doxytag: member="Gtid_set::intersection" ref="a9a384be7c735d018d5fc0c8c0c64344e" args="(const Gtid_set *other, Gtid_set *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#a9a384be7c735d018d5fc0c8c0c64344e">Gtid_set::intersection</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the intersection of this <a class="el" href="classGtid__set.html">Gtid_set</a> and the other <a class="el" href="classGtid__set.html">Gtid_set</a> to result.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The <a class="el" href="classGtid__set.html">Gtid_set</a> to intersect with this <a class="el" href="classGtid__set.html">Gtid_set</a> </td></tr>
    <tr><td class="paramname">result</td><td><a class="el" href="classGtid__set.html">Gtid_set</a> where the result will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000056">Todo:</a></b></dt><dd>: This algorithm is simple, a little bit slower than necessary. It would be more efficient to iterate over intervals of 'this' and 'other' similar to add_gno_interval(). At the moment the performance of this is not super-important. /Sven </dd></dl>

</div>
</div>
<a class="anchor" id="a5308098c872810aee29cdd332266f882"></a><!-- doxytag: member="Gtid_set::is_intersection_nonempty" ref="a5308098c872810aee29cdd332266f882" args="(const Gtid_set *other) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGtid__set.html#a5308098c872810aee29cdd332266f882">Gtid_set::is_intersection_nonempty</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if there is a least one element of this <a class="el" href="classGtid__set.html">Gtid_set</a> in the other <a class="el" href="classGtid__set.html">Gtid_set</a>. </p>

</div>
</div>
<a class="anchor" id="a9b0c6d8267d511e65243f4275406653a"></a><!-- doxytag: member="Gtid_set::is_subset_for_sid" ref="a9b0c6d8267d511e65243f4275406653a" args="(const Gtid_set *super, rpl_sidno superset_sidno, rpl_sidno subset_sidno) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGtid__set.html#a9b0c6d8267d511e65243f4275406653a">Gtid_set::is_subset_for_sid</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>super</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>superset_sidno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rpl_sidno&#160;</td>
          <td class="paramname"><em>subset_sidno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if this <a class="el" href="classGtid__set.html">Gtid_set</a> is a subset of the given gtid_set on the given superset_sidno and subset_sidno.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">super</td><td><a class="el" href="classGtid__set.html">Gtid_set</a> with which 'this'::gtid_set needs to be compared </td></tr>
    <tr><td class="paramname">superset_sidno</td><td>The sidno that will be compared, relative to super-&gt;sid_map. </td></tr>
    <tr><td class="paramname">subset_sidno</td><td>The sidno that will be compared, relative to this-&gt;sid_map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true If 'this' <a class="el" href="classGtid__set.html">Gtid_set</a> is subset of given 'super' <a class="el" href="classGtid__set.html">Gtid_set</a>. false If 'this' <a class="el" href="classGtid__set.html">Gtid_set</a> is *not* subset of given 'super' <a class="el" href="classGtid__set.html">Gtid_set</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a8a10c1dfb57ac995cbf14b51f83f8e68"></a><!-- doxytag: member="Gtid_set::is_valid" ref="a8a10c1dfb57ac995cbf14b51f83f8e68" args="(const char *text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGtid__set.html#a8a10c1dfb57ac995cbf14b51f83f8e68">Gtid_set::is_valid</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the given string is a valid specification of a <a class="el" href="classGtid__set.html">Gtid_set</a>, false otherwise. </p>

</div>
</div>
<a class="anchor" id="afc0a5e109f9b6f5d1fdec79462468340"></a><!-- doxytag: member="Gtid_set::remove_gtid_set" ref="afc0a5e109f9b6f5d1fdec79462468340" args="(const Gtid_set *other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_return_status <a class="el" href="classGtid__set.html#afc0a5e109f9b6f5d1fdec79462468340">Gtid_set::remove_gtid_set</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGtid__set.html">Gtid_set</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes all groups in the given <a class="el" href="classGtid__set.html">Gtid_set</a> from this <a class="el" href="classGtid__set.html">Gtid_set</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The <a class="el" href="classGtid__set.html">Gtid_set</a> to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RETURN_STATUS_OK or RETURN_STATUS_REPORTED_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a7f93abbbf6942fc5f854a1b1504d94e0"></a><!-- doxytag: member="Gtid_set::to_string" ref="a7f93abbbf6942fc5f854a1b1504d94e0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="classGtid__set.html#a7f93abbbf6942fc5f854a1b1504d94e0">Gtid_set::to_string</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a newly allocated string containing this <a class="el" href="classGtid__set.html">Gtid_set</a>, or NULL on out of memory. </p>

</div>
</div>
<a class="anchor" id="a980203ba6852ece042609a157088d251"></a><!-- doxytag: member="Gtid_set::to_string" ref="a980203ba6852ece042609a157088d251" args="(char *buf, const String_format *string_format=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGtid__set.html#a7f93abbbf6942fc5f854a1b1504d94e0">Gtid_set::to_string</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *&#160;</td>
          <td class="paramname"><em>string_format</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Formats this <a class="el" href="classGtid__set.html">Gtid_set</a> as a string and saves in a given buffer.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer where the string should be stored. This should have size at least <a class="el" href="classGtid__set.html#aaf41f6a15633a2076cc90b96dfbe7bb2">get_string_length()</a>+1. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">string_format</td><td><a class="el" href="structGtid__set_1_1String__format.html">String_format</a> object that specifies separators in the resulting text. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Length of the generated string. </dd></dl>

</div>
</div>
<a class="anchor" id="a5865b6cee0a477035e8729eae9ab9f63"></a><!-- doxytag: member="Gtid_set::to_string" ref="a5865b6cee0a477035e8729eae9ab9f63" args="(char **buf, const String_format *string_format=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGtid__set.html#a7f93abbbf6942fc5f854a1b1504d94e0">Gtid_set::to_string</a> </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structGtid__set_1_1String__format.html">String_format</a> *&#160;</td>
          <td class="paramname"><em>string_format</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Formats a <a class="el" href="classGtid__set.html">Gtid_set</a> as a string and saves in a newly allocated buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to pointer to string. The function will set it to point to the newly allocated buffer, or NULL on out of memory. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">string_format</td><td>Specifies how to format the string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">Length</td><td>of the generated string, or -1 on out of memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a59860055a243825524c47d9adc494250"></a><!-- doxytag: member="Gtid_set::Gtid_set::Free_intervals_lock" ref="a59860055a243825524c47d9adc494250" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class Gtid_set::Free_intervals_lock<code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by unit tests that need to access private members. </p>
<p>Only Free_intervals_lock is allowed to access free_intervals_mutex. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a4ba668b76ba3d4a4d96a91389dc31817"></a><!-- doxytag: member="Gtid_set::commented_string_format" ref="a4ba668b76ba3d4a4d96a91389dc31817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structGtid__set_1_1String__format.html">Gtid_set::String_format</a> <a class="el" href="classGtid__set.html#a4ba668b76ba3d4a4d96a91389dc31817">Gtid_set::commented_string_format</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;# &quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;,\n# &quot;</span>, <span class="stringliteral">&quot;# [empty]&quot;</span>,
  2, 0, 1, 1, 1, 4, 9
}
</pre></div><p><a class="el" href="structGtid__set_1_1String__format.html">String_format</a> for printing the <a class="el" href="classGtid__set.html">Gtid_set</a> commented: the string is not quote-wrapped, and every SID is on a new line with a leading '# '. </p>

</div>
</div>
<a class="anchor" id="a65b9f6c31cfc7d5ca7b1564411c2a416"></a><!-- doxytag: member="Gtid_set::default_string_format" ref="a65b9f6c31cfc7d5ca7b1564411c2a416" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structGtid__set_1_1String__format.html">Gtid_set::String_format</a> <a class="el" href="classGtid__set.html#a65b9f6c31cfc7d5ca7b1564411c2a416">Gtid_set::default_string_format</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;,\n&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,
  0, 0, 1, 1, 1, 2, 0
}
</pre></div><p>The default <a class="el" href="structGtid__set_1_1String__format.html">String_format</a>: the format understood by add_gtid_text(const char *). </p>

</div>
</div>
<a class="anchor" id="abefb12fa60900cd38a8abe959b774f54"></a><!-- doxytag: member="Gtid_set::sql_string_format" ref="abefb12fa60900cd38a8abe959b774f54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structGtid__set_1_1String__format.html">Gtid_set::String_format</a> <a class="el" href="classGtid__set.html#abefb12fa60900cd38a8abe959b774f54">Gtid_set::sql_string_format</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;&#39;,\n&#39;&quot;</span>, <span class="stringliteral">&quot;&#39;&#39;&quot;</span>,
  1, 1, 1, 1, 1, 4, 2
}
</pre></div><p><a class="el" href="structGtid__set_1_1String__format.html">String_format</a> useful to generate an SQL string: the string is wrapped in single quotes and there is a newline between SIDs. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="rpl__gtid_8h_source.html">rpl_gtid.h</a></li>
<li>rpl_gtid_set.cc</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 16 2015 12:35:43 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
