<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: MDL_request Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">MDL_request Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="MDL_request" -->
<p><code>#include &lt;<a class="el" href="mdl_8h_source.html">mdl.h</a>&gt;</code></p>

<p><a href="classMDL__request-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a3702105c9fd923310169a8dbf4941588">init</a> (<a class="el" href="classMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a> namespace_arg, const char *db_arg, const char *name_arg, enum_mdl_type mdl_type_arg, enum_mdl_duration mdl_duration_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a663e4bd47a3fe37e3ae667b97b400005">init</a> (const <a class="el" href="classMDL__key.html">MDL_key</a> *key_arg, enum_mdl_type mdl_type_arg, enum_mdl_duration mdl_duration_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a6cc77971b2b370098d3e6d89f816180e">set_type</a> (enum_mdl_type type_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae00606a0fc45f65d897307baaa4773c0"></a><!-- doxytag: member="MDL_request::operator=" ref="ae00606a0fc45f65d897307baaa4773c0" args="(const MDL_request &amp;rhs)" -->
<a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;rhs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4899c84cffa559f5490ec0bfb9e9929f"></a><!-- doxytag: member="MDL_request::MDL_request" ref="a4899c84cffa559f5490ec0bfb9e9929f" args="(const MDL_request *rhs)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>MDL_request</b> (const <a class="el" href="classMDL__request.html">MDL_request</a> *rhs)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46c82cd2ca417fc6f1b9c63c71e47889"></a><!-- doxytag: member="MDL_request::operator new" ref="a46c82cd2ca417fc6f1b9c63c71e47889" args="(size_t size, MEM_ROOT *mem_root)" -->
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t size, MEM_ROOT *mem_root)  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6fed43bd7ebb8e9b356a1732dd274416"></a><!-- doxytag: member="MDL_request::operator delete" ref="a6fed43bd7ebb8e9b356a1732dd274416" args="(void *ptr, MEM_ROOT *mem_root)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, MEM_ROOT *mem_root)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum enum_mdl_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a13f9ecefea91a5355e694339ed9f7943">type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum enum_mdl_duration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a1bbba71916cc45c7a3912175ef76cf69">duration</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__request.html">MDL_request</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#ad9d3b3f440b67b7665b3a2701a14e2b2">next_in_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e7ba7a3d2a1b9374f0dbe0be197854a"></a><!-- doxytag: member="MDL_request::prev_in_list" ref="a9e7ba7a3d2a1b9374f0dbe0be197854a" args="" -->
<a class="el" href="classMDL__request.html">MDL_request</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>prev_in_list</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a99421002fe2ea1580766846c0ef339ae">ticket</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__key.html">MDL_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#ab30e06e36d9191120575cc0c0402554a">key</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A pending metadata lock request.</p>
<p>A lock request and a granted metadata lock are represented by different classes because they have different allocation sites and hence different lifetimes. The allocation of lock requests is controlled from outside of the MDL subsystem, while allocation of granted locks (tickets) is controlled within the MDL subsystem.</p>
<p><a class="el" href="classMDL__request.html">MDL_request</a> is a C structure, you don't need to call a constructor or destructor for it. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3702105c9fd923310169a8dbf4941588"></a><!-- doxytag: member="MDL_request::init" ref="a3702105c9fd923310169a8dbf4941588" args="(MDL_key::enum_mdl_namespace namespace_arg, const char *db_arg, const char *name_arg, enum_mdl_type mdl_type_arg, enum_mdl_duration mdl_duration_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMDL__request.html#a3702105c9fd923310169a8dbf4941588">MDL_request::init</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a>&#160;</td>
          <td class="paramname"><em>mdl_namespace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_mdl_type&#160;</td>
          <td class="paramname"><em>mdl_type_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_mdl_duration&#160;</td>
          <td class="paramname"><em>mdl_duration_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize a lock request.</p>
<p>This is to be used for every lock request.</p>
<p>Note that initialization and allocation are split into two calls. This is to allow flexible memory management of lock requests. Normally a lock request is stored in statement memory (e.g. is a member of struct <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a>), but we would also like to allow allocation of lock requests in other memory roots, for example in the grant subsystem, to lock privilege tables.</p>
<p>The MDL subsystem does not own or manage memory of lock requests.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mdl_namespace</td><td>Id of namespace of object to be locked </td></tr>
    <tr><td class="paramname">db</td><td>Name of database to which the object belongs </td></tr>
    <tr><td class="paramname">name</td><td>Name of of the object </td></tr>
    <tr><td class="paramname">mdl_type</td><td>The MDL lock type for the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a663e4bd47a3fe37e3ae667b97b400005"></a><!-- doxytag: member="MDL_request::init" ref="a663e4bd47a3fe37e3ae667b97b400005" args="(const MDL_key *key_arg, enum_mdl_type mdl_type_arg, enum_mdl_duration mdl_duration_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMDL__request.html#a3702105c9fd923310169a8dbf4941588">MDL_request::init</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMDL__key.html">MDL_key</a> *&#160;</td>
          <td class="paramname"><em>key_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_mdl_type&#160;</td>
          <td class="paramname"><em>mdl_type_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_mdl_duration&#160;</td>
          <td class="paramname"><em>mdl_duration_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize a lock request using pre-built <a class="el" href="classMDL__key.html">MDL_key</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>MDL_request::init(namespace, db, name, type).</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key_arg</td><td>The pre-built MDL key for the request. </td></tr>
    <tr><td class="paramname">mdl_type_arg</td><td>The MDL lock type for the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6cc77971b2b370098d3e6d89f816180e"></a><!-- doxytag: member="MDL_request::set_type" ref="a6cc77971b2b370098d3e6d89f816180e" args="(enum_mdl_type type_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMDL__request.html#a6cc77971b2b370098d3e6d89f816180e">MDL_request::set_type</a> </td>
          <td>(</td>
          <td class="paramtype">enum_mdl_type&#160;</td>
          <td class="paramname"><em>type_arg</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set type of lock request. Can be only applied to pending locks. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a1bbba71916cc45c7a3912175ef76cf69"></a><!-- doxytag: member="MDL_request::duration" ref="a1bbba71916cc45c7a3912175ef76cf69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum enum_mdl_duration <a class="el" href="classMDL__request.html#a1bbba71916cc45c7a3912175ef76cf69">MDL_request::duration</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Duration for requested lock. </p>

</div>
</div>
<a class="anchor" id="ab30e06e36d9191120575cc0c0402554a"></a><!-- doxytag: member="MDL_request::key" ref="ab30e06e36d9191120575cc0c0402554a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__key.html">MDL_key</a> <a class="el" href="classMDL__request.html#ab30e06e36d9191120575cc0c0402554a">MDL_request::key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A lock is requested based on a fully qualified name and type. </p>

</div>
</div>
<a class="anchor" id="ad9d3b3f440b67b7665b3a2701a14e2b2"></a><!-- doxytag: member="MDL_request::next_in_list" ref="ad9d3b3f440b67b7665b3a2701a14e2b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__request.html">MDL_request</a>* <a class="el" href="classMDL__request.html#ad9d3b3f440b67b7665b3a2701a14e2b2">MDL_request::next_in_list</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointers for participating in the list of lock requests for this context. </p>

</div>
</div>
<a class="anchor" id="a99421002fe2ea1580766846c0ef339ae"></a><!-- doxytag: member="MDL_request::ticket" ref="a99421002fe2ea1580766846c0ef339ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__ticket.html">MDL_ticket</a>* <a class="el" href="classMDL__request.html#a99421002fe2ea1580766846c0ef339ae">MDL_request::ticket</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the lock ticket object for this lock request. Valid only if this lock request is satisfied. </p>

</div>
</div>
<a class="anchor" id="a13f9ecefea91a5355e694339ed9f7943"></a><!-- doxytag: member="MDL_request::type" ref="a13f9ecefea91a5355e694339ed9f7943" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum enum_mdl_type <a class="el" href="classMDL__request.html#a13f9ecefea91a5355e694339ed9f7943">MDL_request::type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Type of metadata lock. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mdl_8h_source.html">mdl.h</a></li>
<li>mdl.cc</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 16 2015 12:37:02 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
