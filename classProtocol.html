<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: Protocol Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Protocol Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Protocol" --><div class="dynheader">
Inheritance diagram for Protocol:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classProtocol.png" usemap="#Protocol_map" alt=""/>
  <map id="Protocol_map" name="Protocol_map">
<area href="classProtocol__binary.html" alt="Protocol_binary" shape="rect" coords="0,56,102,80"/>
<area href="classProtocol__local.html" alt="Protocol_local" shape="rect" coords="112,56,214,80"/>
<area href="classProtocol__text.html" alt="Protocol_text" shape="rect" coords="224,56,326,80"/>
</map>
 </div></div>

<p><a href="classProtocol-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>SEND_NUM_ROWS</b> =  1, 
<b>SEND_DEFAULTS</b> =  2, 
<b>SEND_EOF</b> =  4
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>enum_protocol_type</b> { <b>PROTOCOL_TEXT</b> =  0, 
<b>PROTOCOL_BINARY</b> =  1, 
<b>PROTOCOL_LOCAL</b> =  2
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad08a52fbb21efefc71042c8d6683d0ab"></a><!-- doxytag: member="Protocol::Protocol" ref="ad08a52fbb21efefc71042c8d6683d0ab" args="(THD *thd_arg)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>Protocol</b> (THD *thd_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb3d24d4515a750821659d1c359fc0a8"></a><!-- doxytag: member="Protocol::init" ref="acb3d24d4515a750821659d1c359fc0a8" args="(THD *thd_arg)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> (THD *thd_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#a923f5ac0c240eee4c9df9b57b81bb573">send_result_set_metadata</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *list, uint flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#ae3688318d4dfa274776c17795e6508c9">send_result_set_row</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *row_items)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#a5e566a480bb065c46a1c3b1ca586189e">store</a> (<a class="el" href="classI__List.html">I_List</a>&lt; <a class="el" href="classi__string.html">i_string</a> &gt; *str_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#ab3ada9a85e44e8878ee9fe61438bb605">store</a> (const char *from, const CHARSET_INFO *cs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fa6d9efe8ade41f482b5531a4130a09"></a><!-- doxytag: member="Protocol::storage_packet" ref="a8fa6d9efe8ade41f482b5531a4130a09" args="()" -->
<a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>storage_packet</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c832f0d23cca662d26007ab93b2c5ef"></a><!-- doxytag: member="Protocol::free" ref="a8c832f0d23cca662d26007ab93b2c5ef" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>free</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa81f536328e39cecff40d5afc6206610"></a><!-- doxytag: member="Protocol::write" ref="aa81f536328e39cecff40d5afc6206610" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc94cefd9bdba20f8b9698a9fe783f40"></a><!-- doxytag: member="Protocol::store" ref="adc94cefd9bdba20f8b9698a9fe783f40" args="(int from)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (int from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0423b50aaac27ea58626560425f655ce"></a><!-- doxytag: member="Protocol::store" ref="a0423b50aaac27ea58626560425f655ce" args="(uint32 from)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (uint32 from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30d3cec3a68d57edad62efdf6d6d806e"></a><!-- doxytag: member="Protocol::store" ref="a30d3cec3a68d57edad62efdf6d6d806e" args="(longlong from)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (longlong from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49d24faa3d8c2b42c25d4b6551205a81"></a><!-- doxytag: member="Protocol::store" ref="a49d24faa3d8c2b42c25d4b6551205a81" args="(ulonglong from)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (ulonglong from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a785ec8433646a7293a48a326752359e0"></a><!-- doxytag: member="Protocol::store" ref="a785ec8433646a7293a48a326752359e0" args="(String *str)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (<a class="el" href="classString.html">String</a> *str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6d4a8c9fde3f4e27d2cc7a514be105b"></a><!-- doxytag: member="Protocol::prepare_for_send" ref="aa6d4a8c9fde3f4e27d2cc7a514be105b" args="(uint num_columns)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_for_send</b> (uint num_columns)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a077a79dec8c4338f59f4dd9c437a6a60"></a><!-- doxytag: member="Protocol::flush" ref="a077a79dec8c4338f59f4dd9c437a6a60" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>flush</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#aae91dd18398600c77b140227c83d1856">end_partial_result_set</a> (THD *thd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f2231a489c29f10fb8553fe06d6c493"></a><!-- doxytag: member="Protocol::prepare_for_resend" ref="a2f2231a489c29f10fb8553fe06d6c493" args="()=0" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_for_resend</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b94a6ffc8dd31e6921432cc35fa6385"></a><!-- doxytag: member="Protocol::store_null" ref="a0b94a6ffc8dd31e6921432cc35fa6385" args="()=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_null</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b017df1ed6f4672d01b104c7d874e92"></a><!-- doxytag: member="Protocol::store_tiny" ref="a5b017df1ed6f4672d01b104c7d874e92" args="(longlong from)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_tiny</b> (longlong from)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d69a42de2289d066d851f4fb8c28191"></a><!-- doxytag: member="Protocol::store_short" ref="a8d69a42de2289d066d851f4fb8c28191" args="(longlong from)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_short</b> (longlong from)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36c3efb62fe0f899583b595a6cc12619"></a><!-- doxytag: member="Protocol::store_long" ref="a36c3efb62fe0f899583b595a6cc12619" args="(longlong from)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_long</b> (longlong from)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84d763243a8ed7cc2aba14c62d295071"></a><!-- doxytag: member="Protocol::store_longlong" ref="a84d763243a8ed7cc2aba14c62d295071" args="(longlong from, bool unsigned_flag)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_longlong</b> (longlong from, bool unsigned_flag)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9569f4e892bf680d55662a6f64db0e60"></a><!-- doxytag: member="Protocol::store_decimal" ref="a9569f4e892bf680d55662a6f64db0e60" args="(const my_decimal *)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_decimal</b> (const <a class="el" href="classmy__decimal.html">my_decimal</a> *)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49503fa7e72a18b97fc5ec00104bb40a"></a><!-- doxytag: member="Protocol::store" ref="a49503fa7e72a18b97fc5ec00104bb40a" args="(const char *from, size_t length, const CHARSET_INFO *cs)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (const char *from, size_t length, const CHARSET_INFO *cs)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc901a1fffdde8e173855cd4b6137326"></a><!-- doxytag: member="Protocol::store" ref="afc901a1fffdde8e173855cd4b6137326" args="(const char *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (const char *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92f9322a5bc87dd18a4de563ae45e49e"></a><!-- doxytag: member="Protocol::store" ref="a92f9322a5bc87dd18a4de563ae45e49e" args="(float from, uint32 decimals, String *buffer)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (float from, uint32 decimals, <a class="el" href="classString.html">String</a> *buffer)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07a617fd8dc08af488891f262b2b4a16"></a><!-- doxytag: member="Protocol::store" ref="a07a617fd8dc08af488891f262b2b4a16" args="(double from, uint32 decimals, String *buffer)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (double from, uint32 decimals, <a class="el" href="classString.html">String</a> *buffer)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb4df65976d86deb0982c3f17ad571ea"></a><!-- doxytag: member="Protocol::store" ref="afb4df65976d86deb0982c3f17ad571ea" args="(MYSQL_TIME *time, uint precision)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (MYSQL_TIME *time, uint precision)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7712fec6e80842c0bcf27d7c24ca9d57"></a><!-- doxytag: member="Protocol::store_date" ref="a7712fec6e80842c0bcf27d7c24ca9d57" args="(MYSQL_TIME *time)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_date</b> (MYSQL_TIME *time)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6bc1815beaf5e727c4908ba3aa16ef2"></a><!-- doxytag: member="Protocol::store_time" ref="af6bc1815beaf5e727c4908ba3aa16ef2" args="(MYSQL_TIME *time, uint precision)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_time</b> (MYSQL_TIME *time, uint precision)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace582e59ad8b9bf4f3aef12cbcb2f67a"></a><!-- doxytag: member="Protocol::store" ref="ace582e59ad8b9bf4f3aef12cbcb2f67a" args="(Field *field)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (<a class="el" href="classField.html">Field</a> *field)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2cfdf7addec15c2ee8cac641f5bfd61"></a><!-- doxytag: member="Protocol::send_out_parameters" ref="ab2cfdf7addec15c2ee8cac641f5bfd61" args="(List&lt; Item_param &gt; *sp_params)=0" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>send_out_parameters</b> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem__param.html">Item_param</a> &gt; *sp_params)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab87bc1eb99de341ed0cb185520ad39ec"></a><!-- doxytag: member="Protocol::remove_last_row" ref="ab87bc1eb99de341ed0cb185520ad39ec" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>remove_last_row</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa44c608bf9b7e57e930b91bf6c1d08f7"></a><!-- doxytag: member="Protocol::type" ref="aa44c608bf9b7e57e930b91bf6c1d08f7" args="()=0" -->
virtual enum enum_protocol_type&#160;</td><td class="memItemRight" valign="bottom"><b>type</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#ad7803455271ceb98fed493698b6742e8">end_statement</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e42809c5ea5a2a0e6bba028561b1c1c"></a><!-- doxytag: member="Protocol::net_store_data" ref="a1e42809c5ea5a2a0e6bba028561b1c1c" args="(const uchar *from, size_t length)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>net_store_data</b> (const uchar *from, size_t length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ef7bab26d4a2b415c6e6dfb2330c347"></a><!-- doxytag: member="Protocol::net_store_data" ref="a1ef7bab26d4a2b415c6e6dfb2330c347" args="(const uchar *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>net_store_data</b> (const uchar *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#a9167f717a5f181eb7b25ce3509088441">store_string_aux</a> (const char *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#a33fa9d654174211f7a88bca7a3b6dcd2">send_ok</a> (uint server_status, uint statement_warn_count, ulonglong affected_rows, ulonglong last_insert_id, const char *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#a55983c51cff727144947b1167be7fa42">send_eof</a> (uint server_status, uint statement_warn_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProtocol.html#aaf28cdd43b19487bf2dfcd5d2b1a658b">send_error</a> (uint sql_errno, const char *err_msg, const char *sql_state)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a489eccb3c6d6fdb0a5d8598fb4cb24"></a><!-- doxytag: member="Protocol::thd" ref="a4a489eccb3c6d6fdb0a5d8598fb4cb24" args="" -->
THD *&#160;</td><td class="memItemRight" valign="bottom"><b>thd</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4273819fe43fe8d2e579e4e5551ef15b"></a><!-- doxytag: member="Protocol::packet" ref="a4273819fe43fe8d2e579e4e5551ef15b" args="" -->
<a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>packet</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c80759f9d73f8e808d33fcf0d929ed4"></a><!-- doxytag: member="Protocol::convert" ref="a6c80759f9d73f8e808d33fcf0d929ed4" args="" -->
<a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>convert</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1125ff5dceb894868fb42b84308292fc"></a><!-- doxytag: member="Protocol::field_pos" ref="a1125ff5dceb894868fb42b84308292fc" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>field_pos</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28ab5e08705a070db8d17cc9603c9ba3"></a><!-- doxytag: member="Protocol::field_types" ref="a28ab5e08705a070db8d17cc9603c9ba3" args="" -->
enum enum_field_types *&#160;</td><td class="memItemRight" valign="bottom"><b>field_types</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfa3b2651805ecd9617c67fa480c7bc6"></a><!-- doxytag: member="Protocol::field_count" ref="abfa3b2651805ecd9617c67fa480c7bc6" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>field_count</b></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aae91dd18398600c77b140227c83d1856"></a><!-- doxytag: member="Protocol::end_partial_result_set" ref="aae91dd18398600c77b140227c83d1856" args="(THD *thd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classProtocol.html#aae91dd18398600c77b140227c83d1856">Protocol::end_partial_result_set</a> </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd_arg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish the result set with EOF packet, as is expected by the client, if there is an error evaluating the next row and a continue handler for the error. </p>

</div>
</div>
<a class="anchor" id="ad7803455271ceb98fed493698b6742e8"></a><!-- doxytag: member="Protocol::end_statement" ref="ad7803455271ceb98fed493698b6742e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classProtocol.html#ad7803455271ceb98fed493698b6742e8">Protocol::end_statement</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send the status of the current statement execution over network.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>in fact, carries two parameters, NET for the transport and <a class="el" href="classDiagnostics__area.html">Diagnostics_area</a> as the source of status information.</td></tr>
  </table>
  </dd>
</dl>
<p>In MySQL, there are two types of SQL statements: those that return a result set and those that return status information only.</p>
<p>If a statement returns a result set, it consists of 3 parts:</p>
<ul>
<li>result set meta-data</li>
<li>variable number of result set rows (can be 0)</li>
<li>followed and terminated by EOF or ERROR packet</li>
</ul>
<p>Once the client has seen the meta-data information, it always expects an EOF or ERROR to terminate the result set. If ERROR is received, the result set rows are normally discarded (this is up to the client implementation, libmysql at least does discard them). EOF, on the contrary, means "successfully evaluated the entire
  result set". Since we don't know how many rows belong to a result set until it's evaluated, EOF/ERROR is the indicator of the end of the row stream. Note, that we can not buffer result set rows on the server -- there may be an arbitrary number of rows. But we do buffer the last packet (EOF/ERROR) in the <a class="el" href="classDiagnostics__area.html">Diagnostics_area</a> and delay sending it till the very end of execution (here), to be able to change EOF to an ERROR if commit failed or some other error occurred during the last cleanup steps taken after execution.</p>
<p>A statement that does not return a result set doesn't send result set meta-data either. Instead it returns one of:</p>
<ul>
<li>OK packet</li>
<li>ERROR packet. Similarly to the EOF/ERROR of the previous statement type, OK/ERROR packet is "buffered" in the diagnostics area and sent to the client in the end of statement.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>This method defines a template, but delegates actual sending of data to virtual Protocol::send_{ok,eof,error}. This allows for implementation of protocols that "intercept" ok/eof/error messages, and store them in memory, etc, instead of sending to the client.</dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The diagnostics area is assigned or disabled. It can not be empty -- we assume that every SQL statement or COM_* command generates OK, ERROR, or EOF status.</dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>The status information is encoded to protocol format and sent to the client.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>We conventionally return void, since the only type of error that can happen here is a NET (transport) error, and that one will become visible when we attempt to read from the NET the next command. Diagnostics_area::is_sent is set for debugging purposes only. </dd></dl>

</div>
</div>
<a class="anchor" id="a55983c51cff727144947b1167be7fa42"></a><!-- doxytag: member="Protocol::send_eof" ref="a55983c51cff727144947b1167be7fa42" args="(uint server_status, uint statement_warn_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a55983c51cff727144947b1167be7fa42">Protocol::send_eof</a> </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>server_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>statement_warn_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A default implementation of "EOF" packet response to the client.</p>
<p>Binary and text protocol do not differ in their EOF packet format. </p>

<p>Reimplemented in <a class="el" href="classProtocol__local.html#a1aad5312e410648afe13f0ba3d252e36">Protocol_local</a>.</p>

</div>
</div>
<a class="anchor" id="aaf28cdd43b19487bf2dfcd5d2b1a658b"></a><!-- doxytag: member="Protocol::send_error" ref="aaf28cdd43b19487bf2dfcd5d2b1a658b" args="(uint sql_errno, const char *err_msg, const char *sql_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#aaf28cdd43b19487bf2dfcd5d2b1a658b">Protocol::send_error</a> </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>sql_errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>err_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A default implementation of "ERROR" packet response to the client.</p>
<p>Binary and text protocol do not differ in ERROR packet format. </p>

<p>Reimplemented in <a class="el" href="classProtocol__local.html#a8f024e3c4a806e4e969ec452126f5769">Protocol_local</a>.</p>

</div>
</div>
<a class="anchor" id="a33fa9d654174211f7a88bca7a3b6dcd2"></a><!-- doxytag: member="Protocol::send_ok" ref="a33fa9d654174211f7a88bca7a3b6dcd2" args="(uint server_status, uint statement_warn_count, ulonglong affected_rows, ulonglong last_insert_id, const char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a33fa9d654174211f7a88bca7a3b6dcd2">Protocol::send_ok</a> </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>server_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>statement_warn_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulonglong&#160;</td>
          <td class="paramname"><em>affected_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulonglong&#160;</td>
          <td class="paramname"><em>last_insert_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A default implementation of "OK" packet response to the client.</p>
<p>Currently this implementation is re-used by both network-oriented protocols -- the binary and text one. They do not differ in their OK packet format, which allows for a significant simplification on client side. </p>

<p>Reimplemented in <a class="el" href="classProtocol__local.html#ace027ac8707dd2e774e1955319ffe615">Protocol_local</a>.</p>

</div>
</div>
<a class="anchor" id="a923f5ac0c240eee4c9df9b57b81bb573"></a><!-- doxytag: member="Protocol::send_result_set_metadata" ref="a923f5ac0c240eee4c9df9b57b81bb573" args="(List&lt; Item &gt; *list, uint flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a923f5ac0c240eee4c9df9b57b81bb573">Protocol::send_result_set_metadata</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send name and type of result to client.</p>
<p>Sum fields has table name empty and field_name.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">THD</td><td>Thread data object </td></tr>
    <tr><td class="paramname">list</td><td><a class="el" href="classList.html">List</a> of items to send to client </td></tr>
    <tr><td class="paramname">flag</td><td>Bit mask with the following functions:<ul>
<li>1 send number of rows</li>
<li>2 send default values</li>
<li>4 don't write eof packet</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>Error (Note that in this case the error is not sent to the client) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classProtocol__local.html#aac1bc029b516c21af35ff36d9058158e">Protocol_local</a>.</p>

</div>
</div>
<a class="anchor" id="ae3688318d4dfa274776c17795e6508c9"></a><!-- doxytag: member="Protocol::send_result_set_row" ref="ae3688318d4dfa274776c17795e6508c9" args="(List&lt; Item &gt; *row_items)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#ae3688318d4dfa274776c17795e6508c9">Protocol::send_result_set_row</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>row_items</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send one result set row.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">row_items</td><td>a collection of column values for that row</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error status. </dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Error. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e566a480bb065c46a1c3b1ca586189e"></a><!-- doxytag: member="Protocol::store" ref="a5e566a480bb065c46a1c3b1ca586189e" args="(I_List&lt; i_string &gt; *str_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a5e566a480bb065c46a1c3b1ca586189e">Protocol::store</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classI__List.html">I_List</a>&lt; <a class="el" href="classi__string.html">i_string</a> &gt; *&#160;</td>
          <td class="paramname"><em>str_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send a set of strings as one long string with ',' in between. </p>

</div>
</div>
<a class="anchor" id="ab3ada9a85e44e8878ee9fe61438bb605"></a><!-- doxytag: member="Protocol::store" ref="ab3ada9a85e44e8878ee9fe61438bb605" args="(const char *from, const CHARSET_INFO *cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a5e566a480bb065c46a1c3b1ca586189e">Protocol::store</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CHARSET_INFO *&#160;</td>
          <td class="paramname"><em>cs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send \0 end terminated string.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>NullS or \0 terminated string</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>In most cases one should use store(from, length) instead of this function</dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9167f717a5f181eb7b25ce3509088441"></a><!-- doxytag: member="Protocol::store_string_aux" ref="a9167f717a5f181eb7b25ce3509088441" args="(const char *from, size_t length, const CHARSET_INFO *fromcs, const CHARSET_INFO *tocs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classProtocol.html#a9167f717a5f181eb7b25ce3509088441">Protocol::store_string_aux</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CHARSET_INFO *&#160;</td>
          <td class="paramname"><em>fromcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CHARSET_INFO *&#160;</td>
          <td class="paramname"><em>tocs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Auxilary function to convert string to the given character set and store in network buffer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="protocol_8h_source.html">protocol.h</a></li>
<li><a class="el" href="protocol_8cc.html">protocol.cc</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 16 2015 12:37:07 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
