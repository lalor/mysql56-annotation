<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: COPY_INFO Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">COPY_INFO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="COPY_INFO" --><!-- doxytag: inherits="Sql_alloc" -->
<p><code>#include &lt;<a class="el" href="sql__data__change_8h_source.html">sql_data_change.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for COPY_INFO:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCOPY__INFO.png" usemap="#COPY_INFO_map" alt=""/>
  <map id="COPY_INFO_map" name="COPY_INFO_map">
<area href="classSql__alloc.html" alt="Sql_alloc" shape="rect" coords="0,0,167,24"/>
<area href="classDelayable__insert__operation.html" alt="Delayable_insert_operation" shape="rect" coords="0,112,167,136"/>
</map>
 </div></div>

<p><a href="classCOPY__INFO-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO_1_1Statistics.html">Statistics</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>operation_type</b> { <b>INSERT_OPERATION</b>, 
<b>UPDATE_OPERATION</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#aa846d1831a48a4071b3358edbfb988b9">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns, bool manage_defaults, enum_duplicates duplicate_handling, bool ignore_errors)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a3ed81c181a81b793a35c8bcdd0c70e1f">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns2, bool manage_defaults, enum_duplicates duplicates_handling, bool ignore_duplicates, int escape_character)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a6f301b4e25739036b3acd99a24c54257">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *fields, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *values)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affce64d0fd37e4b6a59a82420f36717f"></a><!-- doxytag: member="COPY_INFO::get_operation_type" ref="affce64d0fd37e4b6a59a82420f36717f" args="() const " -->
operation_type&#160;</td><td class="memItemRight" valign="bottom"><b>get_operation_type</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90493cdcbd9fae6ceac5eab3a12bb7e3"></a><!-- doxytag: member="COPY_INFO::get_changed_columns" ref="a90493cdcbd9fae6ceac5eab3a12bb7e3" args="() const " -->
<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>get_changed_columns</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ebdffe815b79219427c82dbb7ec6bcf"></a><!-- doxytag: member="COPY_INFO::get_changed_columns2" ref="a5ebdffe815b79219427c82dbb7ec6bcf" args="() const " -->
const <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>get_changed_columns2</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19593e17d8d6410db595f137c9a60f54"></a><!-- doxytag: member="COPY_INFO::get_manage_defaults" ref="a19593e17d8d6410db595f137c9a60f54" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>get_manage_defaults</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac254ca66ee5d207595c59cb6e67a971a"></a><!-- doxytag: member="COPY_INFO::get_duplicate_handling" ref="ac254ca66ee5d207595c59cb6e67a971a" args="() const " -->
enum_duplicates&#160;</td><td class="memItemRight" valign="bottom"><b>get_duplicate_handling</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a244a0f07398b1012e0a88c7c96c38e32"></a><!-- doxytag: member="COPY_INFO::get_ignore_errors" ref="a244a0f07398b1012e0a88c7c96c38e32" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>get_ignore_errors</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a7ce8622f7a089c3b7ad02858539899ba">set_function_defaults</a> (<a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">add_function_default_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, MY_BITMAP *columns)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#ab7b576121f26d571c771361b5883b13c">function_defaults_apply</a> (const <a class="el" href="structTABLE.html">TABLE</a> *table) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#af9bd54cdb4f21814f6575129550313aa">function_defaults_apply_on_columns</a> (MY_BITMAP *map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a76b958b97160409b58f5ca669014e732">ignore_last_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, uint count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a0489e263f2e297822a61946ea98a9dc4">~COPY_INFO</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a8ecb111b8337d5fa22c18767568fc1"></a><!-- doxytag: member="COPY_INFO::stats" ref="a2a8ecb111b8337d5fa22c18767568fc1" args="" -->
<a class="el" href="classCOPY__INFO_1_1Statistics.html">Statistics</a>&#160;</td><td class="memItemRight" valign="bottom"><b>stats</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75823e55a0adcff9b6ea4b1e25f14ec9"></a><!-- doxytag: member="COPY_INFO::escape_char" ref="a75823e55a0adcff9b6ea4b1e25f14ec9" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>escape_char</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7ef0c76f46e39ab43aecc6d3898ea44"></a><!-- doxytag: member="COPY_INFO::last_errno" ref="ad7ef0c76f46e39ab43aecc6d3898ea44" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>last_errno</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a451057d07720b1c973ac2881c8939406">update_values</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">get_function_default_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MY_BITMAP *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#ac9814c101038e8cd643d024c1efbe262">get_cached_bitmap</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum enum_duplicates&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a396487407f907f2deff5215afbe6deec">handle_duplicates</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a1aa6fe824d9811ce85b4c0fbe399f08f">ignore</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class encapsulates a data change operation. There are three such operations.</p>
<ol type="1">
<li>Insert statements, i.e. INSERT INTO .. VALUES</li>
</ol>
<ol type="1">
<li>Update statements. UPDATE <table class="doxtable">
</table>
...</li>
</ol>
<ol type="1">
<li>Delete statements. Currently this class is not used for delete statements and thus has not yet been adapted to handle it.</li>
</ol>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000072">Todo:</a></b></dt><dd>Rename this class.</dd></dl>
<p>The <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> structure is used by INSERT/REPLACE code. The schema of the row counting by the INSERT/INSERT ... ON DUPLICATE KEY UPDATE code: If a row is inserted then the copied variable is incremented. If a row is updated by the INSERT ... ON DUPLICATE KEY UPDATE and the new data differs from the old one then the copied and the updated variables are incremented. The touched variable is incremented if a row was touched by the update part of the INSERT ... ON DUPLICATE KEY UPDATE no matter whether the row was actually changed or not. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa846d1831a48a4071b3358edbfb988b9"></a><!-- doxytag: member="COPY_INFO::COPY_INFO" ref="aa846d1831a48a4071b3358edbfb988b9" args="(operation_type optype, List&lt; Item &gt; *inserted_columns, bool manage_defaults, enum_duplicates duplicate_handling, bool ignore_errors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manage_defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_duplicates&#160;</td>
          <td class="paramname"><em>duplicate_handling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes this data change operation as an SQL <code>INSERT</code> (with all possible syntaxes and variants).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">optype</td><td>The data change operation type. </td></tr>
    <tr><td class="paramname">inserted_columns</td><td><a class="el" href="classList.html">List</a> of columns of the target table which the statement will explicitely fill; <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> must not set a function default for them. NULL means "empty list". </td></tr>
    <tr><td class="paramname">manage_defaults</td><td>Whether this object should manage function defaults. </td></tr>
    <tr><td class="paramname">duplicate_handling</td><td>The policy for handling duplicates. </td></tr>
    <tr><td class="paramname">ignore_errors</td><td>Whether certain ignorable errors should be ignored. A proper documentation has never existed for this member, so the following has been compiled by examining how clients actually use the member.</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>Ignore non-fatal errors, except duplicate key error, during this insert operation (this constructor can only construct an insert operation).</li>
<li>If the insert operation spawns an update operation (as in ON DUPLICATE KEY UPDATE), tell the layer below (fill_record_n_invoke_before_triggers) to 'ignore errors'. (More detailed documentation is not available).</li>
<li>Let  v be a view for which WITH CHECK OPTION applies. This can happen either if  v is defined with WITH ... CHECK OPTION, or if  v is being inserted into by a cascaded insert and an outer view is defined with "WITH CASCADED CHECK OPTION". If the insert operation on  v spawns an update operation (as in ON DUPLICATE KEY UPDATE) for a certain row, and hence the  v is being updated, ignore whether the WHERE clause was true for this row or not. I.e. if ignore is true, WITH CHECK OPTION can be ignored.</li>
<li>If the insert operation spawns an update operation (as in ON DUPLICATE KEY UPDATE) that fails, ignore this error. </li>
</ul>

</div>
</div>
<a class="anchor" id="a3ed81c181a81b793a35c8bcdd0c70e1f"></a><!-- doxytag: member="COPY_INFO::COPY_INFO" ref="a3ed81c181a81b793a35c8bcdd0c70e1f" args="(operation_type optype, List&lt; Item &gt; *inserted_columns, List&lt; Item &gt; *inserted_columns2, bool manage_defaults, enum_duplicates duplicates_handling, bool ignore_duplicates, int escape_character)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manage_defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_duplicates&#160;</td>
          <td class="paramname"><em>duplicates_handling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_duplicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>escape_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes this data change operation as an SQL <code>LOAD</code> <code>DATA</code> <code>INFILE</code>. Note that this statement has its inserted columns spread over two lists: </p>
<div class="fragment"><pre class="fragment">
     LOAD DATA INFILE a_file
     INTO TABLE a_table (col1, col2)   &lt; first list (col1, col2)
     SET col3=val;                     &lt; second list (col3)
</pre></div><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">optype</td><td>The data change operation type. </td></tr>
    <tr><td class="paramname">inserted_columns</td><td><a class="el" href="classList.html">List</a> of columns of the target table which the statement will explicitely fill; <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> must not set a function default for them. NULL means "empty list". </td></tr>
    <tr><td class="paramname">inserted_columns2</td><td>A second list like inserted_columns </td></tr>
    <tr><td class="paramname">manage_defaults</td><td>Whether this object should manage function defaults. </td></tr>
    <tr><td class="paramname">ignore_duplicates</td><td>Whether duplicate rows are ignored. </td></tr>
    <tr><td class="paramname">duplicates_handling</td><td>How to handle duplicates. </td></tr>
    <tr><td class="paramname">escape_character</td><td>The escape character. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f301b4e25739036b3acd99a24c54257"></a><!-- doxytag: member="COPY_INFO::COPY_INFO" ref="a6f301b4e25739036b3acd99a24c54257" args="(operation_type optype, List&lt; Item &gt; *fields, List&lt; Item &gt; *values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes this data change operation as an SQL <code>UPDATE</code> (multi- or not).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fields</td><td>The column objects that are to be updated. </td></tr>
    <tr><td class="paramname">values</td><td>The values to be assigned to the fields. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>that UPDATE always lists columns, so non-listed columns may need a default thus m_manage_defaults is always true. </dd></dl>

</div>
</div>
<a class="anchor" id="a0489e263f2e297822a61946ea98a9dc4"></a><!-- doxytag: member="COPY_INFO::~COPY_INFO" ref="a0489e263f2e297822a61946ea98a9dc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classCOPY__INFO.html#a0489e263f2e297822a61946ea98a9dc4">COPY_INFO::~COPY_INFO</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This class allocates its memory in a MEM_ROOT, so there's nothing to delete. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae3d8192214b05dc110801ec8dd999edc"></a><!-- doxytag: member="COPY_INFO::add_function_default_columns" ref="ae3d8192214b05dc110801ec8dd999edc" args="(TABLE *table, MY_BITMAP *columns)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">COPY_INFO::add_function_default_columns</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MY_BITMAP *&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds the columns that are bound to receive default values from a function (e.g. CURRENT_TIMESTAMP) to the set columns. Uses lazy instantiation of the set of function default columns.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">table</td><td>The table on which the operation is performed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">columns</td><td>The function default columns are added to this set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Memory allocation error during lazy instantiation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab7b576121f26d571c771361b5883b13c"></a><!-- doxytag: member="COPY_INFO::function_defaults_apply" ref="ab7b576121f26d571c771361b5883b13c" args="(const TABLE *table) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#ab7b576121f26d571c771361b5883b13c">COPY_INFO::function_defaults_apply</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True if this operation will set some fields to function default result values when invoked on the table.</p>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">COPY_INFO::add_function_default_columns()</a> must be called prior to invoking this function. </dd></dl>

</div>
</div>
<a class="anchor" id="af9bd54cdb4f21814f6575129550313aa"></a><!-- doxytag: member="COPY_INFO::function_defaults_apply_on_columns" ref="af9bd54cdb4f21814f6575129550313aa" args="(MY_BITMAP *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#af9bd54cdb4f21814f6575129550313aa">COPY_INFO::function_defaults_apply_on_columns</a> </td>
          <td>(</td>
          <td class="paramtype">MY_BITMAP *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True if any of the columns set in the bitmap have default functions that may set the column. </p>

</div>
</div>
<a class="anchor" id="ac9814c101038e8cd643d024c1efbe262"></a><!-- doxytag: member="COPY_INFO::get_cached_bitmap" ref="ac9814c101038e8cd643d024c1efbe262" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MY_BITMAP* <a class="el" href="classCOPY__INFO.html#ac9814c101038e8cd643d024c1efbe262">COPY_INFO::get_cached_bitmap</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The column bitmap which has been cached for this data change operation. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">COPY_INFO::get_function_default_columns()</a></dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The cached bitmap, or NULL if no bitmap was cached. </dd></dl>

</div>
</div>
<a class="anchor" id="a4b096071d98443d6f9a59aafc6da78a0"></a><!-- doxytag: member="COPY_INFO::get_function_default_columns" ref="a4b096071d98443d6f9a59aafc6da78a0" args="(TABLE *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">COPY_INFO::get_function_default_columns</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function will, unless done already, calculate and keep the set of function default columns.</p>
<p>Function default columns are those columns declared DEFAULT &lt;function&gt; and/or ON UPDATE &lt;function&gt;. These will store the return value of &lt;function&gt; when the relevant operation is applied on the table.</p>
<p>Calling this function, without error, is a prerequisite for calling <a class="el" href="classCOPY__INFO.html#a7ce8622f7a089c3b7ad02858539899ba">COPY_INFO::set_function_defaults()</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to be used for instantiating the column set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Memory allocation error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76b958b97160409b58f5ca669014e732"></a><!-- doxytag: member="COPY_INFO::ignore_last_columns" ref="a76b958b97160409b58f5ca669014e732" args="(TABLE *table, uint count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#a76b958b97160409b58f5ca669014e732">COPY_INFO::ignore_last_columns</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tells the object to not manage function defaults for the last 'count' columns of 'table'. </p>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ce8622f7a089c3b7ad02858539899ba"></a><!-- doxytag: member="COPY_INFO::set_function_defaults" ref="a7ce8622f7a089c3b7ad02858539899ba" args="(TABLE *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCOPY__INFO.html#a7ce8622f7a089c3b7ad02858539899ba">COPY_INFO::set_function_defaults</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Assigns function default values to columns of the supplied table. This function cannot fail, but <a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">COPY_INFO::get_function_default_columns()</a> must be called beforehand.</p>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">COPY_INFO::add_function_default_columns()</a> must be called prior to invoking this function.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to which columns belong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>It is assumed that all columns in this <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> are resolved to the table. </dd></dl>

<p>Reimplemented in <a class="el" href="classDelayable__insert__operation.html#af9c0be8e1002481286491ba07d2d60d2">Delayable_insert_operation</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a396487407f907f2deff5215afbe6deec"></a><!-- doxytag: member="COPY_INFO::handle_duplicates" ref="a396487407f907f2deff5215afbe6deec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum enum_duplicates <a class="el" href="classCOPY__INFO.html#a396487407f907f2deff5215afbe6deec">COPY_INFO::handle_duplicates</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Policy for handling insertion of duplicate values. Protected for legacy reasons.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classDelayable__insert__operation.html#ae973e1a2bfdee0921eed52ddfcad6b5d">Delayable_insert_operation::set_dup_and_ignore()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1aa6fe824d9811ce85b4c0fbe399f08f"></a><!-- doxytag: member="COPY_INFO::ignore" ref="a1aa6fe824d9811ce85b4c0fbe399f08f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCOPY__INFO.html#a1aa6fe824d9811ce85b4c0fbe399f08f">COPY_INFO::ignore</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Policy for whether certain errors should be ignored. Protected for legacy reasons.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classDelayable__insert__operation.html#ae973e1a2bfdee0921eed52ddfcad6b5d">Delayable_insert_operation::set_dup_and_ignore()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a451057d07720b1c973ac2881c8939406"></a><!-- doxytag: member="COPY_INFO::update_values" ref="a451057d07720b1c973ac2881c8939406" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classList.html">List</a>&lt;<a class="el" href="classItem.html">Item</a>&gt;* <a class="el" href="classCOPY__INFO.html#a451057d07720b1c973ac2881c8939406">COPY_INFO::update_values</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Values for UPDATE; needed by write_record() if INSERT with DUP_UPDATE </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="sql__data__change_8h_source.html">sql_data_change.h</a></li>
<li><a class="el" href="sql__data__change_8cc.html">sql_data_change.cc</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 16 2015 12:34:55 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
