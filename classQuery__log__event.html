<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: Query_log_event Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Query_log_event Class Reference<div class="ingroups"><a class="el" href="group__Replication.html">Replication</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Query_log_event" --><!-- doxytag: inherits="Log_event" -->
<p><code>#include &lt;<a class="el" href="log__event_8h_source.html">log_event.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Query_log_event:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classQuery__log__event.png" usemap="#Query_log_event_map" alt=""/>
  <map id="Query_log_event_map" name="Query_log_event_map">
<area href="classLog__event.html" alt="Log_event" shape="rect" coords="0,0,189,24"/>
<area href="classExecute__load__query__log__event.html" alt="Execute_load_query_log_event" shape="rect" coords="0,112,189,136"/>
</map>
 </div></div>

<p><a href="classQuery__log__event-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace9dae10ee6c2c11ef34d678baa594d5"></a><!-- doxytag: member="Query_log_event::print_query_header" ref="ace9dae10ee6c2c11ef34d678baa594d5" args="(IO_CACHE *file, PRINT_EVENT_INFO *print_event_info)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>print_query_header</b> (IO_CACHE *file, PRINT_EVENT_INFO *print_event_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a151ce375bee8d6ec0058c7bd31712a15"></a><!-- doxytag: member="Query_log_event::print" ref="a151ce375bee8d6ec0058c7bd31712a15" args="(FILE *file, PRINT_EVENT_INFO *print_event_info)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> (FILE *file, PRINT_EVENT_INFO *print_event_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuery__log__event.html#a3420653875185a8dff0c28831ef7bd2a">Query_log_event</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuery__log__event.html#a8eeda6f83d6ed20343be666af286032b">Query_log_event</a> (const char *buf, uint event_len, const <a class="el" href="classFormat__description__log__event.html">Format_description_log_event</a> *description_event, <a class="el" href="group__Replication.html#ga2f52e9ba81a28b4f5bd7fe87053f79c3">Log_event_type</a> event_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a903da8f60046463bddc3e6a917607faa"></a><!-- doxytag: member="Query_log_event::get_type_code" ref="a903da8f60046463bddc3e6a917607faa" args="()" -->
<a class="el" href="group__Replication.html#ga2f52e9ba81a28b4f5bd7fe87053f79c3">Log_event_type</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_type_code</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2103e649b3890febb96d6bfd1bd8592"></a><!-- doxytag: member="Query_log_event::is_valid" ref="ad2103e649b3890febb96d6bfd1bd8592" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_valid</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a443215abfdd80c4621298306bb404369"></a><!-- doxytag: member="Query_log_event::get_post_header_size_for_derived" ref="a443215abfdd80c4621298306bb404369" args="()" -->
virtual ulong&#160;</td><td class="memItemRight" valign="bottom"><b>get_post_header_size_for_derived</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a017ff3ed961f45c093615dd8e3d3798f"></a><!-- doxytag: member="Query_log_event::is_trans_keyword" ref="a017ff3ed961f45c093615dd8e3d3798f" args="()" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_trans_keyword</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuery__log__event.html#a694cad8964206f7838bae799319fc707">starts_group</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5065b48c330a7b077229c428b404bdb"></a><!-- doxytag: member="Query_log_event::ends_group" ref="af5065b48c330a7b077229c428b404bdb" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>ends_group</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf36385457be4fd33aedd010f72078dd"></a><!-- doxytag: member="Query_log_event::query" ref="acf36385457be4fd33aedd010f72078dd" args="" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>query</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b065230869397321777600fdc16ebd5"></a><!-- doxytag: member="Query_log_event::catalog" ref="a3b065230869397321777600fdc16ebd5" args="" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>catalog</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa718f02d5c7938175e91bb478918df2"></a><!-- doxytag: member="Query_log_event::db" ref="afa718f02d5c7938175e91bb478918df2" args="" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>db</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84ab1c43ac02aef8a6475fd74406bd4d"></a><!-- doxytag: member="Query_log_event::q_len" ref="a84ab1c43ac02aef8a6475fd74406bd4d" args="" -->
uint32&#160;</td><td class="memItemRight" valign="bottom"><b>q_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9fa50bd71280b16120dc0210af8b282"></a><!-- doxytag: member="Query_log_event::db_len" ref="ab9fa50bd71280b16120dc0210af8b282" args="" -->
uint32&#160;</td><td class="memItemRight" valign="bottom"><b>db_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa03a8664c0d1e1d3713de53077b6dc21"></a><!-- doxytag: member="Query_log_event::error_code" ref="aa03a8664c0d1e1d3713de53077b6dc21" args="" -->
uint16&#160;</td><td class="memItemRight" valign="bottom"><b>error_code</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a649772105cdee7e4793ebe71b418d74a"></a><!-- doxytag: member="Query_log_event::thread_id" ref="a649772105cdee7e4793ebe71b418d74a" args="" -->
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>thread_id</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95d573fb39402d981fba7800c6f4ec1b"></a><!-- doxytag: member="Query_log_event::slave_proxy_id" ref="a95d573fb39402d981fba7800c6f4ec1b" args="" -->
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>slave_proxy_id</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6034022b0095c96737f30542e28b0c8"></a><!-- doxytag: member="Query_log_event::catalog_len" ref="aa6034022b0095c96737f30542e28b0c8" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>catalog_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3012c3dc20e24438a598b603519b9171"></a><!-- doxytag: member="Query_log_event::status_vars_len" ref="a3012c3dc20e24438a598b603519b9171" args="" -->
uint16&#160;</td><td class="memItemRight" valign="bottom"><b>status_vars_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31858e15cade62b0f27a8ece2df14a17"></a><!-- doxytag: member="Query_log_event::flags2_inited" ref="a31858e15cade62b0f27a8ece2df14a17" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>flags2_inited</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83e373aa801da9d466104d0f15a77c52"></a><!-- doxytag: member="Query_log_event::sql_mode_inited" ref="a83e373aa801da9d466104d0f15a77c52" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>sql_mode_inited</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f87aca2c5295332bb0d8a30de1cfcbf"></a><!-- doxytag: member="Query_log_event::charset_inited" ref="a7f87aca2c5295332bb0d8a30de1cfcbf" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>charset_inited</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a2a7377e101213884fdbb7d99849478"></a><!-- doxytag: member="Query_log_event::flags2" ref="a5a2a7377e101213884fdbb7d99849478" args="" -->
uint32&#160;</td><td class="memItemRight" valign="bottom"><b>flags2</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2b31fed5307e6134b299e1881638aeb"></a><!-- doxytag: member="Query_log_event::sql_mode" ref="ac2b31fed5307e6134b299e1881638aeb" args="" -->
sql_mode_t&#160;</td><td class="memItemRight" valign="bottom"><b>sql_mode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d371a9700b8b02e30a02bae9b93380c"></a><!-- doxytag: member="Query_log_event::auto_increment_increment" ref="a9d371a9700b8b02e30a02bae9b93380c" args="" -->
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>auto_increment_increment</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75416adab13e718ab46f5379f97b4d3a"></a><!-- doxytag: member="Query_log_event::auto_increment_offset" ref="a75416adab13e718ab46f5379f97b4d3a" args="" -->
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>auto_increment_offset</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abeb93665ef01794addc82fc80e913183"></a><!-- doxytag: member="Query_log_event::charset" ref="abeb93665ef01794addc82fc80e913183" args="[6]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>charset</b> [6]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69280d195a131e3ec57aa68d95f28bd8"></a><!-- doxytag: member="Query_log_event::time_zone_len" ref="a69280d195a131e3ec57aa68d95f28bd8" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>time_zone_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00f1656b1aa0d8ae0ea3aae4292a2ef7"></a><!-- doxytag: member="Query_log_event::time_zone_str" ref="a00f1656b1aa0d8ae0ea3aae4292a2ef7" args="" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>time_zone_str</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33e82e14d16fd325031c5fafb09a3018"></a><!-- doxytag: member="Query_log_event::lc_time_names_number" ref="a33e82e14d16fd325031c5fafb09a3018" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>lc_time_names_number</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae88ad72d8d66676192379bf337b33f81"></a><!-- doxytag: member="Query_log_event::charset_database_number" ref="ae88ad72d8d66676192379bf337b33f81" args="" -->
uint&#160;</td><td class="memItemRight" valign="bottom"><b>charset_database_number</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9d0579d251ac57ee84599ab86a9469b"></a><!-- doxytag: member="Query_log_event::table_map_for_update" ref="ab9d0579d251ac57ee84599ab86a9469b" args="" -->
ulonglong&#160;</td><td class="memItemRight" valign="bottom"><b>table_map_for_update</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab478d89d294b48092f54fd62091ca08f"></a><!-- doxytag: member="Query_log_event::master_data_written" ref="ab478d89d294b48092f54fd62091ca08f" args="" -->
uint32&#160;</td><td class="memItemRight" valign="bottom"><b>master_data_written</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6a8889000688a77515d4a59b24cb6ad"></a><!-- doxytag: member="Query_log_event::mts_accessed_dbs" ref="ac6a8889000688a77515d4a59b24cb6ad" args="" -->
uchar&#160;</td><td class="memItemRight" valign="bottom"><b>mts_accessed_dbs</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91d776d1562ea093c0f4f494d3777ba6"></a><!-- doxytag: member="Query_log_event::mts_accessed_db_names" ref="a91d776d1562ea093c0f4f494d3777ba6" args="[MAX_DBS_IN_EVENT_MTS][NAME_LEN]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>mts_accessed_db_names</b> [MAX_DBS_IN_EVENT_MTS][NAME_LEN]</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa33cf93c41a436732734a70cdb7b6943"></a><!-- doxytag: member="Query_log_event::data_buf" ref="aa33cf93c41a436732734a70cdb7b6943" args="" -->
Log_event::Byte *&#160;</td><td class="memItemRight" valign="bottom"><b>data_buf</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A <code><a class="el" href="classQuery__log__event.html">Query_log_event</a></code> is created for each query that modifies the database, unless the query is logged row-based.</p>
<h2><a class="anchor" id="Query_log_event_binary_format"></a>
Binary format</h2>
<p>See <a class="el" href="classLog__event.html#Log_event_binary_format">Binary format for log events</a> for a general discussion and introduction to the binary format of binlog events.</p>
<p>The Post-Header has five components:</p>
<table class="doxtable">
<caption align="bottom">Post-Header for <a class="el" href="classQuery__log__event.html">Query_log_event</a></caption>
<tr>
<th>Name </th><th>Format </th><th><p class="starttd">Description </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>slave_proxy_id </td><td>4 byte unsigned integer </td><td><p class="starttd">An integer identifying the client thread that issued the query. The id is unique per server. (Note, however, that two threads on different servers may have the same slave_proxy_id.) This is used when a client thread creates a temporary table local to the client. The slave_proxy_id is used to distinguish temporary tables that belong to different clients.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>exec_time </td><td>4 byte unsigned integer </td><td><p class="starttd">The time from when the query started to when it was logged in the binlog, in seconds. </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>db_len </td><td>1 byte integer </td><td><p class="starttd">The length of the name of the currently selected database. </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>error_code </td><td>2 byte unsigned integer </td><td><p class="starttd">Error code generated by the master. If the master fails, the slave will fail with the same error code, except for the error codes ER_DB_CREATE_EXISTS == 1007 and ER_DB_DROP_EXISTS == 1008.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>status_vars_len </td><td>2 byte unsigned integer </td><td>The length of the status_vars block of the Body, in bytes. See <a class="el" href="classQuery__log__event.html#query_log_event_status_vars">below</a>.   </td></tr>
</table>
<p>The Body has the following components:</p>
<table class="doxtable">
<caption align="bottom">Body for <a class="el" href="classQuery__log__event.html">Query_log_event</a></caption>
<tr>
<th>Name </th><th>Format </th><th><p class="starttd">Description </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td><a class="anchor" id="query_log_event_status_vars"></a>status_vars </td><td>status_vars_len bytes </td><td><p class="starttd">Zero or more status variables. Each status variable consists of one byte identifying the variable stored, followed by the value of the variable. The possible variables are listed separately in the table <a class="el" href="classQuery__log__event.html#Table_query_log_event_status_vars">below</a>. MySQL always writes events in the order defined below; however, it is capable of reading them in any order.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>db </td><td>db_len+1 </td><td><p class="starttd">The currently selected database, as a null-terminated string.</p>
<p>(The trailing zero is redundant since the length is already known; it is db_len from Post-Header.)  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>query </td><td>variable length string without trailing zero, extending to the end of the event (determined by the length field of the Common-Header)  </td><td>The SQL query.  </td></tr>
</table>
<p>The following table lists the status variables that may appear in the status_vars field.</p>
<p><a class="anchor" id="Table_query_log_event_status_vars"></a> </p>
<table class="doxtable">
<caption align="bottom">Status variables for <a class="el" href="classQuery__log__event.html">Query_log_event</a></caption>
<tr>
<th>Status variable </th><th>1 byte identifier </th><th>Format </th><th><p class="starttd">Description </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>flags2 </td><td>Q_FLAGS2_CODE == 0 </td><td>4 byte bitfield </td><td><p class="starttd">The flags in <code>thd-&gt;options</code>, binary AND-ed with <code>OPTIONS_WRITTEN_TO_BIN_LOG</code>. The <code>thd-&gt;options</code> bitfield contains options for "SELECT". <code>OPTIONS_WRITTEN</code> identifies those options that need to be written to the binlog (not all do). Specifically, <code>OPTIONS_WRITTEN_TO_BIN_LOG</code> equals (<code>OPTION_AUTO_IS_NULL</code> | <code>OPTION_NO_FOREIGN_KEY_CHECKS</code> | <code>OPTION_RELAXED_UNIQUE_CHECKS</code> | <code>OPTION_NOT_AUTOCOMMIT</code>), or 0x0c084000 in hex.</p>
<p>These flags correspond to the SQL variables SQL_AUTO_IS_NULL, FOREIGN_KEY_CHECKS, UNIQUE_CHECKS, and AUTOCOMMIT, documented in the "SET Syntax" section of the MySQL Manual.</p>
<p>This field is always written to the binlog in version &gt;= 5.0, and never written in version &lt; 5.0.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>sql_mode </td><td>Q_SQL_MODE_CODE == 1 </td><td>8 byte bitfield </td><td><p class="starttd">The <code>sql_mode</code> variable. See the section "SQL Modes" in the MySQL manual, and see <a class="el" href="sql__priv_8h.html">sql_priv.h</a> for a list of the possible flags. Currently (2007-10-04), the following flags are available: </p>
<pre>
    MODE_REAL_AS_FLOAT==0x1
    MODE_PIPES_AS_CONCAT==0x2
    MODE_ANSI_QUOTES==0x4
    MODE_IGNORE_SPACE==0x8
    MODE_NOT_USED==0x10
    MODE_ONLY_FULL_GROUP_BY==0x20
    MODE_NO_UNSIGNED_SUBTRACTION==0x40
    MODE_NO_DIR_IN_CREATE==0x80
    MODE_POSTGRESQL==0x100
    MODE_ORACLE==0x200
    MODE_MSSQL==0x400
    MODE_DB2==0x800
    MODE_MAXDB==0x1000
    MODE_NO_KEY_OPTIONS==0x2000
    MODE_NO_TABLE_OPTIONS==0x4000
    MODE_NO_FIELD_OPTIONS==0x8000
    MODE_MYSQL323==0x10000
    MODE_MYSQL323==0x20000
    MODE_MYSQL40==0x40000
    MODE_ANSI==0x80000
    MODE_NO_AUTO_VALUE_ON_ZERO==0x100000
    MODE_NO_BACKSLASH_ESCAPES==0x200000
    MODE_STRICT_TRANS_TABLES==0x400000
    MODE_STRICT_ALL_TABLES==0x800000
    MODE_NO_ZERO_IN_DATE==0x1000000
    MODE_NO_ZERO_DATE==0x2000000
    MODE_INVALID_DATES==0x4000000
    MODE_ERROR_FOR_DIVISION_BY_ZERO==0x8000000
    MODE_TRADITIONAL==0x10000000
    MODE_NO_AUTO_CREATE_USER==0x20000000
    MODE_HIGH_NOT_PRECEDENCE==0x40000000
    MODE_PAD_CHAR_TO_FULL_LENGTH==0x80000000
    </pre><p> All these flags are replicated from the server. However, all flags except <code>MODE_NO_DIR_IN_CREATE</code> are honored by the slave; the slave always preserves its old value of <code>MODE_NO_DIR_IN_CREATE</code>. For a rationale, see comment in <code>Query_log_event::do_apply_event</code> in <code>log_event.cc</code>.</p>
<p>This field is always written to the binlog.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>catalog </td><td>Q_CATALOG_NZ_CODE == 6 </td><td>Variable-length string: the length in bytes (1 byte) followed by the characters (at most 255 bytes)  </td><td><p class="starttd">Stores the client's current catalog. Every database belongs to a catalog, the same way that every table belongs to a database. Currently, there is only one catalog, "std".</p>
<p>This field is written if the length of the catalog is &gt; 0; otherwise it is not written.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>auto_increment </td><td>Q_AUTO_INCREMENT == 3 </td><td><p class="starttd">two 2 byte unsigned integers, totally 2+2=4 bytes</p>
<p class="endtd"></p>
</td><td><p class="starttd">The two variables auto_increment_increment and auto_increment_offset, in that order. For more information, see "System variables" in the MySQL manual.</p>
<p>This field is written if auto_increment &gt; 1. Otherwise, it is not written.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>charset </td><td>Q_CHARSET_CODE == 4 </td><td>three 2 byte unsigned integers, totally 2+2+2=6 bytes </td><td><p class="starttd">The three variables character_set_client, collation_connection, and collation_server, in that order. character_set_client is a code identifying the character set and collation used by the client to encode the query. collation_connection identifies the character set and collation that the master converts the query to when it receives it; this is useful when comparing literal strings. collation_server is the default character set and collation used when a new database is created.</p>
<p>See also "Connection Character Sets and Collations" in the MySQL 5.1 manual.</p>
<p>All three variables are codes identifying a (character set, collation) pair. To see which codes map to which pairs, run the query "SELECT id, character_set_name, collation_name FROM
    COLLATIONS".</p>
<p>Cf. Q_CHARSET_DATABASE_CODE below.</p>
<p>This field is always written.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>time_zone </td><td>Q_TIME_ZONE_CODE == 5 </td><td>Variable-length string: the length in bytes (1 byte) followed by the characters (at most 255 bytes). </td><td><p class="starttd">The time_zone of the master.</p>
<p>See also "System Variables" and "MySQL Server Time Zone Support" in the MySQL manual.</p>
<p>This field is written if the length of the time zone string is &gt; 0; otherwise, it is not written.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>lc_time_names_number </td><td>Q_LC_TIME_NAMES_CODE == 7 </td><td>2 byte integer </td><td><p class="starttd">A code identifying a table of month and day names. The mapping from codes to languages is defined in <code>sql_locale.cc</code>.</p>
<p>This field is written if it is not 0, i.e., if the locale is not en_US.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>charset_database_number </td><td>Q_CHARSET_DATABASE_CODE == 8 </td><td><p class="starttd">2 byte integer</p>
<p class="endtd"></p>
</td><td><p class="starttd">The value of the collation_database system variable (in the source code stored in <code>thd-&gt;variables.collation_database</code>), which holds the code for a (character set, collation) pair as described above (see Q_CHARSET_CODE).</p>
<p>collation_database was used in old versions (???WHEN). Its value was loaded when issuing a "use db" query and could be changed by issuing a "SET collation_database=xxx" query. It used to affect the "LOAD DATA INFILE" and "CREATE TABLE" commands.</p>
<p>In newer versions, "CREATE TABLE" has been changed to take the character set from the database of the created table, rather than the character set of the current database. This makes a difference when creating a table in another database than the current one. "LOAD DATA INFILE" has not yet changed to do this, but there are plans to eventually do it, and to make collation_database read-only.</p>
<p class="endtd">This field is written if it is not 0.   </p>
</td></tr>
<tr>
<td>table_map_for_update </td><td>Q_TABLE_MAP_FOR_UPDATE_CODE == 9 </td><td><p class="starttd">8 byte integer</p>
<p class="endtd"></p>
</td><td><p class="starttd">The value of the table map that is to be updated by the multi-table update query statement. Every bit of this variable represents a table, and is set to 1 if the corresponding table is to be updated by this statement.</p>
<p class="endtd">The value of this variable is set when executing a multi-table update statement and used by slave to apply filter rules without opening all the tables on slave. This is required because some tables may not exist on slave because of the filter rules.   </p>
</td></tr>
</table>
<h3><a class="anchor" id="Query_log_event_notes_on_previous_versions"></a>
Notes on Previous Versions</h3>
<p>Status vars were introduced in version 5.0. To read earlier versions correctly, check the length of the Post-Header.</p>
<p>The status variable Q_CATALOG_CODE == 2 existed in MySQL 5.0.x, where 0&lt;=x&lt;=3. It was identical to Q_CATALOG_CODE, except that the string had a trailing '\0'. The '\0' was removed in 5.0.4 since it was redundant (the string length is stored before the string). The Q_CATALOG_CODE will never be written by a new master, but can still be understood by a new slave.</p>
<p>See Q_CHARSET_DATABASE_CODE in the table above.</p>
<p>When adding new status vars, please don't forget to update the MAX_SIZE_LOG_EVENT_STATUS, and update function code_name </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3420653875185a8dff0c28831ef7bd2a"></a><!-- doxytag: member="Query_log_event::Query_log_event" ref="a3420653875185a8dff0c28831ef7bd2a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuery__log__event.html#a3420653875185a8dff0c28831ef7bd2a">Query_log_event::Query_log_event</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The simplest constructor that could possibly work. This is used for creating static objects that have a special meaning and are invisible to the log. </p>

</div>
</div>
<a class="anchor" id="a8eeda6f83d6ed20343be666af286032b"></a><!-- doxytag: member="Query_log_event::Query_log_event" ref="a8eeda6f83d6ed20343be666af286032b" args="(const char *buf, uint event_len, const Format_description_log_event *description_event, Log_event_type event_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuery__log__event.html#a3420653875185a8dff0c28831ef7bd2a">Query_log_event::Query_log_event</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>event_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classFormat__description__log__event.html">Format_description_log_event</a> *&#160;</td>
          <td class="paramname"><em>description_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Replication.html#ga2f52e9ba81a28b4f5bd7fe87053f79c3">Log_event_type</a>&#160;</td>
          <td class="paramname"><em>event_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is used by the SQL slave thread to prepare the event before execution. </p>
<p>Layout for the data buffer is as follows +--------+-----------+------+------+---------+----+-------+ | catlog | time_zone | user | host | db name | \0 | Query | +--------+-----------+------+------+---------+----+-------+</p>
<p>To support the query cache we append the following buffer to the above +-------+----------------------------------------+-------+ |db len | uninitiatlized space of size of db len | FLAGS | +-------+----------------------------------------+-------+</p>
<p>The area of buffer starting from Query field all the way to the end belongs to the Query buffer and its structure is described in <a class="el" href="group__Runtime__Environment.html#gaeb7f1383eddc970705bb31930071f1cb">alloc_query()</a> in sql_parse.cc</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000047">Todo:</a></b></dt><dd>we should clean up and do only copy_str_and_move; it works for both cases. Then we can remove the catalog_nz flag. /sven </dd></dl>
<p>if time_zone_len or catalog_len are 0, then time_zone and catalog are uninitialized at this point. shouldn't they point to the zero-length null-terminated strings we allocated space for in the my_alloc call above? /sven</p>
<p>Append the db length at the end of the buffer. This will be used by Query_cache::send_result_to_client() in case the query cache is On.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a694cad8964206f7838bae799319fc707"></a><!-- doxytag: member="Query_log_event::starts_group" ref="a694cad8964206f7838bae799319fc707" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQuery__log__event.html#a694cad8964206f7838bae799319fc707">Query_log_event::starts_group</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notice, DDL queries are logged without BEGIN/COMMIT parentheses and identification of such single-query group occures within logics of <code>get_slave_worker()</code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="log__event_8h_source.html">log_event.h</a></li>
<li>log_event.cc</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 16 2015 12:37:09 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
